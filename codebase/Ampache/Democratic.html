<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
  <html xmlns="http://www.w3.org/1999/xhtml">
		<head>
			<!-- template designed by Marco Von Ballmoos  -->
			<title>Docs For Class Democratic</title>
			<link rel="stylesheet" href="../media/stylesheet.css" />
						<script src="../media/lib/classTree.js"></script>
												<script language="javascript" type="text/javascript">
				var imgPlus = new Image();
				var imgMinus = new Image();
				imgPlus.src = "../media/images/plus.png";
				imgMinus.src = "../media/images/minus.png";
				
				function showNode(Node){
							switch(navigator.family){
								case 'nn4':
									// Nav 4.x code fork...
							var oTable = document.layers["span" + Node];
							var oImg = document.layers["img" + Node];
									break;
								case 'ie4':
									// IE 4/5 code fork...
							var oTable = document.all["span" + Node];
							var oImg = document.all["img" + Node];
									break;
								case 'gecko':
									// Standards Compliant code fork...
							var oTable = document.getElementById("span" + Node);
							var oImg = document.getElementById("img" + Node);
									break;
							}
					oImg.src = imgMinus.src;
					oTable.style.display = "block";
				}
				
				function hideNode(Node){
							switch(navigator.family){
								case 'nn4':
									// Nav 4.x code fork...
							var oTable = document.layers["span" + Node];
							var oImg = document.layers["img" + Node];
									break;
								case 'ie4':
									// IE 4/5 code fork...
							var oTable = document.all["span" + Node];
							var oImg = document.all["img" + Node];
									break;
								case 'gecko':
									// Standards Compliant code fork...
							var oTable = document.getElementById("span" + Node);
							var oImg = document.getElementById("img" + Node);
									break;
							}
					oImg.src = imgPlus.src;
					oTable.style.display = "none";
				}
				
				function nodeIsVisible(Node){
							switch(navigator.family){
								case 'nn4':
									// Nav 4.x code fork...
							var oTable = document.layers["span" + Node];
									break;
								case 'ie4':
									// IE 4/5 code fork...
							var oTable = document.all["span" + Node];
									break;
								case 'gecko':
									// Standards Compliant code fork...
							var oTable = document.getElementById("span" + Node);
									break;
							}
					return (oTable && oTable.style.display == "block");
				}
				
				function toggleNodeVisibility(Node){
					if (nodeIsVisible(Node)){
						hideNode(Node);
					}else{
						showNode(Node);
					}
				}
			</script>
					</head>
		<body>
			<div class="page-body">			
<h2 class="class-name">Class Democratic</h2>

<a name="sec-description"></a>
<div class="info-box">
	<div class="info-box-title">Description</div>
	<div class="nav-bar">
					<span class="disabled">Description</span> |
													<a href="#sec-var-summary">Vars</a> (<a href="#sec-vars">details</a>)
						|											<a href="#sec-method-summary">Methods</a> (<a href="#sec-methods">details</a>)
						
					</div>
	<div class="info-box-body">
        		<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Democratic Class</p>
<p class="description"><p>This class handles democratic play, which is a fancy  name for voting based playback. This extends the tmpplaylist</p></p>
	<ul class="tags">
				<li><span class="field">author:</span> Karl Vollmer &lt;<a href="mailto:vollmer@ampache.org">vollmer@ampache.org</a>&gt;</li>
				<li><span class="field">version:</span> Release: 3.6</li>
				<li><span class="field">copyright:</span> 2001 - 2011 Ampache.org</li>
				<li><span class="field">link:</span> <a href="http://www.ampache.org/">http://www.ampache.org/</a></li>
				<li><span class="field">since:</span> Class available since Release 1.0</li>
				<li><span class="field">license:</span> <a href="http://opensource.org/licenses/gpl-2.0">GPLv2</a></li>
			</ul>
		<p class="notes">
			Located in <a class="field" href="_lib---class---democratic.class.php.html">/lib/class/democratic.class.php</a> (line <span class="field">49</span>)
		</p>
		
				
		<pre><a href="../Ampache/database_object.html">database_object</a>
   |
   --<a href="../Ampache/tmpPlaylist.html">tmpPlaylist</a>
      |
      --Democratic</pre>
	
			</div>
</div>



	<a name="sec-var-summary"></a>
	<div class="info-box">
		<div class="info-box-title">Variable Summary</span></div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
						<span class="disabled">Vars</span> (<a href="#sec-vars">details</a>)
							| 
									<a href="#sec-method-summary">Methods</a> (<a href="#sec-methods">details</a>)
							
								</div>
		<div class="info-box-body">
			<div class="var-summary">
																																																																																																<div class="var-title">
					<span class="var-type">mixed</span>
					<a href="#$base_playlist" title="details" class="var-name">$base_playlist</a>
				</div>
																<div class="var-title">
					<span class="var-type">mixed</span>
					<a href="#$cooldown" title="details" class="var-name">$cooldown</a>
				</div>
																<div class="var-title">
					<span class="var-type">mixed</span>
					<a href="#$level" title="details" class="var-name">$level</a>
				</div>
																<div class="var-title">
					<span class="var-type">mixed</span>
					<a href="#$name" title="details" class="var-name">$name</a>
				</div>
																<div class="var-title">
					<span class="var-type">mixed</span>
					<a href="#$object_ids" title="details" class="var-name">$object_ids</a>
				</div>
																<div class="var-title">
					<span class="var-type">mixed</span>
					<a href="#$primary" title="details" class="var-name">$primary</a>
				</div>
																<div class="var-title">
					<span class="var-type">mixed</span>
					<a href="#$tmp_playlist" title="details" class="var-name">$tmp_playlist</a>
				</div>
																<div class="var-title">
					<span class="var-type">mixed</span>
					<a href="#$user" title="details" class="var-name">$user</a>
				</div>
																<div class="var-title">
					<span class="var-type">mixed</span>
					<a href="#$user_votes" title="details" class="var-name">$user_votes</a>
				</div>
																<div class="var-title">
					<span class="var-type">mixed</span>
					<a href="#$vote_ids" title="details" class="var-name">$vote_ids</a>
				</div>
											</div>
		</div>
	</div>

	<a name="sec-method-summary"></a>
	<div class="info-box">
		<div class="info-box-title">Method Summary</span></div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
																		<a href="#sec-var-summary">Vars</a> (<a href="#sec-vars">details</a>)
				 
				|
						<span class="disabled">Methods</span> (<a href="#sec-methods">details</a>)
		</div>
		<div class="info-box-body">			
			<div class="method-summary">
																										
				<div class="method-definition">
					static 						<span class="method-result">void</span>
										<a href="#build_vote_cache" title="details" class="method-name">build_vote_cache</a>
											(<span class="var-type"></span>&nbsp;<span class="var-name">$ids</span>)
									</div>
																														
				<div class="method-definition">
					static 						<span class="method-result">void</span>
										<a href="#create" title="details" class="method-name">create</a>
											(<span class="var-type"></span>&nbsp;<span class="var-name">$data</span>)
									</div>
														
				<div class="method-definition">
					static 						<span class="method-result">void</span>
										<a href="#delete" title="details" class="method-name">delete</a>
											(<span class="var-type"></span>&nbsp;<span class="var-name">$democratic_id</span>)
									</div>
																																														
				<div class="method-definition">
					static 						<span class="method-result">void</span>
										<a href="#get_current_playlist" title="details" class="method-name">get_current_playlist</a>
										()
									</div>
																														
				<div class="method-definition">
					static 						<span class="method-result">void</span>
										<a href="#get_playlists" title="details" class="method-name">get_playlists</a>
										()
									</div>
																																																														
				<div class="method-definition">
					static 						<span class="method-result">void</span>
										<a href="#prune_tracks" title="details" class="method-name">prune_tracks</a>
										()
									</div>
																														
				<div class="method-definition">
					static 						<span class="method-result">void</span>
										<a href="#set_user_preferences" title="details" class="method-name">set_user_preferences</a>
											([<span class="var-type"></span>&nbsp;<span class="var-name">$user</span> = <span class="var-default">NULL</span>])
									</div>
																																		
				<div class="method-definition">
											<span class="method-result">Democratic</span>
										<a href="#__construct" title="details" class="method-name">__construct</a>
											([<span class="var-type"></span>&nbsp;<span class="var-name">$id</span> = <span class="var-default">''</span>])
									</div>
														
				<div class="method-definition">
											<span class="method-result">void</span>
										<a href="#add_vote" title="details" class="method-name">add_vote</a>
											(<span class="var-type"></span>&nbsp;<span class="var-name">$object_id</span>, [<span class="var-type"></span>&nbsp;<span class="var-name">$object_type</span> = <span class="var-default">''</span>])
									</div>
																						
				<div class="method-definition">
											<span class="method-result">void</span>
										<a href="#clear" title="details" class="method-name">clear</a>
										()
									</div>
														
				<div class="method-definition">
											<span class="method-result">void</span>
										<a href="#clear_votes" title="details" class="method-name">clear_votes</a>
										()
									</div>
																														
				<div class="method-definition">
											<span class="method-result">void</span>
										<a href="#delete_from_oid" title="details" class="method-name">delete_from_oid</a>
											(<span class="var-type"></span>&nbsp;<span class="var-name">$oid</span>, <span class="var-type"></span>&nbsp;<span class="var-name">$object_type</span>)
									</div>
														
				<div class="method-definition">
											<span class="method-result">void</span>
										<a href="#delete_votes" title="details" class="method-name">delete_votes</a>
											(<span class="var-type"></span>&nbsp;<span class="var-name">$row_id</span>)
									</div>
														
				<div class="method-definition">
											<span class="method-result">void</span>
										<a href="#format" title="details" class="method-name">format</a>
										()
									</div>
														
				<div class="method-definition">
											<span class="method-result">void</span>
										<a href="#get_cool_songs" title="details" class="method-name">get_cool_songs</a>
										()
									</div>
																						
				<div class="method-definition">
											<span class="method-result">void</span>
										<a href="#get_items" title="details" class="method-name">get_items</a>
										()
									</div>
														
				<div class="method-definition">
											<span class="method-result">void</span>
										<a href="#get_next_object" title="details" class="method-name">get_next_object</a>
											([<span class="var-type"></span>&nbsp;<span class="var-name">$offset</span> = <span class="var-default">''</span>])
									</div>
																						
				<div class="method-definition">
											<span class="method-result">void</span>
										<a href="#get_uid_from_object_id" title="details" class="method-name">get_uid_from_object_id</a>
											(<span class="var-type"></span>&nbsp;<span class="var-name">$object_id</span>, [<span class="var-type"></span>&nbsp;<span class="var-name">$object_type</span> = <span class="var-default">''</span>])
									</div>
														
				<div class="method-definition">
											<span class="method-result">void</span>
										<a href="#get_vote" title="details" class="method-name">get_vote</a>
											(<span class="var-type"></span>&nbsp;<span class="var-name">$object_id</span>)
									</div>
														
				<div class="method-definition">
											<span class="method-result">void</span>
										<a href="#get_voters" title="details" class="method-name">get_voters</a>
											(<span class="var-type"></span>&nbsp;<span class="var-name">$object_id</span>)
									</div>
														
				<div class="method-definition">
											<span class="method-result">void</span>
										<a href="#has_vote" title="details" class="method-name">has_vote</a>
											(<span class="var-type"></span>&nbsp;<span class="var-name">$object_id</span>, [<span class="var-type"></span>&nbsp;<span class="var-name">$type</span> = <span class="var-default">''</span>])
									</div>
														
				<div class="method-definition">
											<span class="method-result">void</span>
										<a href="#is_enabled" title="details" class="method-name">is_enabled</a>
										()
									</div>
														
				<div class="method-definition">
											<span class="method-result">void</span>
										<a href="#play_url" title="details" class="method-name">play_url</a>
										()
									</div>
																						
				<div class="method-definition">
											<span class="method-result">void</span>
										<a href="#remove_vote" title="details" class="method-name">remove_vote</a>
											(<span class="var-type"></span>&nbsp;<span class="var-name">$row_id</span>)
									</div>
														
				<div class="method-definition">
											<span class="method-result">void</span>
										<a href="#set_parent" title="details" class="method-name">set_parent</a>
										()
									</div>
																						
				<div class="method-definition">
											<span class="method-result">void</span>
										<a href="#update" title="details" class="method-name">update</a>
											(<span class="var-type"></span>&nbsp;<span class="var-name">$data</span>)
									</div>
														
				<div class="method-definition">
											<span class="method-result">void</span>
										<a href="#vote" title="details" class="method-name">vote</a>
											(<span class="var-type"></span>&nbsp;<span class="var-name">$items</span>)
									</div>
											</div>
		</div>
	</div>		

	<a name="sec-vars"></a>
	<div class="info-box">
		<div class="info-box-title">Variables</div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
										<a href="#sec-var-summary">Vars</a> (<span class="disabled">details</span>)
						
			
										| 
									<a href="#sec-method-summary">Methods</a> (<a href="#sec-methods">details</a>)
							
					</div>
		<div class="info-box-body">
			
<a name="var$base_playlist" id="$base_playlist"><!-- --></A>
<div class="evenrow">

	<div class="var-header">
		<span class="var-title">
			<span class="var-type">mixed</span>
			<span class="var-name">$base_playlist</span>
						(line <span class="line-number">56</span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	
			<hr class="separator" />
		<div class="notes">Redefinition of:</div>
		<dl>
			<dt><a href="../Ampache/tmpPlaylist.html#var$base_playlist">tmpPlaylist::$base_playlist</a></dt>
					</dl>
		
		

</div>
<a name="var$cooldown" id="$cooldown"><!-- --></A>
<div class="oddrow">

	<div class="var-header">
		<span class="var-title">
			<span class="var-type">mixed</span>
			<span class="var-name">$cooldown</span>
						(line <span class="line-number">52</span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	
		
		

</div>
<a name="var$level" id="$level"><!-- --></A>
<div class="evenrow">

	<div class="var-header">
		<span class="var-title">
			<span class="var-type">mixed</span>
			<span class="var-name">$level</span>
						(line <span class="line-number">53</span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	
		
		

</div>
<a name="var$name" id="$name"><!-- --></A>
<div class="oddrow">

	<div class="var-header">
		<span class="var-title">
			<span class="var-type">mixed</span>
			<span class="var-name">$name</span>
						(line <span class="line-number">51</span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	
		
		

</div>
<a name="var$object_ids" id="$object_ids"><!-- --></A>
<div class="evenrow">

	<div class="var-header">
		<span class="var-title">
			<span class="var-type">mixed</span>
			<span class="var-name">$object_ids</span>
			 = <span class="var-default">array()</span>			(line <span class="line-number">60</span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	
		
		

</div>
<a name="var$primary" id="$primary"><!-- --></A>
<div class="oddrow">

	<div class="var-header">
		<span class="var-title">
			<span class="var-type">mixed</span>
			<span class="var-name">$primary</span>
						(line <span class="line-number">55</span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	
		
		

</div>
<a name="var$tmp_playlist" id="$tmp_playlist"><!-- --></A>
<div class="evenrow">

	<div class="var-header">
		<span class="var-title">
			<span class="var-type">mixed</span>
			<span class="var-name">$tmp_playlist</span>
						(line <span class="line-number">59</span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	
		
		

</div>
<a name="var$user" id="$user"><!-- --></A>
<div class="oddrow">

	<div class="var-header">
		<span class="var-title">
			<span class="var-type">mixed</span>
			<span class="var-name">$user</span>
						(line <span class="line-number">54</span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	
		
		

</div>
<a name="var$user_votes" id="$user_votes"><!-- --></A>
<div class="evenrow">

	<div class="var-header">
		<span class="var-title">
			<span class="var-type">mixed</span>
			<span class="var-name">$user_votes</span>
			 = <span class="var-default">array()</span>			(line <span class="line-number">62</span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	
		
		

</div>
<a name="var$vote_ids" id="$vote_ids"><!-- --></A>
<div class="oddrow">

	<div class="var-header">
		<span class="var-title">
			<span class="var-type">mixed</span>
			<span class="var-name">$vote_ids</span>
			 = <span class="var-default">array()</span>			(line <span class="line-number">61</span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	
		
		

</div>
							<h4>Inherited Variables</h4>
				<A NAME='inherited_vars'><!-- --></A>
									<p>Inherited from <span class="classname"><a href="../Ampache/tmpPlaylist.html">tmpPlaylist</a></span></p>
					<blockquote>
													<span class="var-title">
								<span class="var-name"><a href="../Ampache/tmpPlaylist.html#var$id">tmpPlaylist::$id</a></span><br>
							</span>
													<span class="var-title">
								<span class="var-name"><a href="../Ampache/tmpPlaylist.html#var$items">tmpPlaylist::$items</a></span><br>
							</span>
													<span class="var-title">
								<span class="var-name"><a href="../Ampache/tmpPlaylist.html#var$object_type">tmpPlaylist::$object_type</a></span><br>
							</span>
													<span class="var-title">
								<span class="var-name"><a href="../Ampache/tmpPlaylist.html#var$session">tmpPlaylist::$session</a></span><br>
							</span>
													<span class="var-title">
								<span class="var-name"><a href="../Ampache/tmpPlaylist.html#var$type">tmpPlaylist::$type</a></span><br>
							</span>
											</blockquote> 
									<p>Inherited from <span class="classname"><a href="../Ampache/database_object.html">database_object</a></span></p>
					<blockquote>
													<span class="var-title">
								<span class="var-name"><a href="../Ampache/database_object.html#var$cache_hit">database_object::$cache_hit</a></span><br>
							</span>
													<span class="var-title">
								<span class="var-name"><a href="../Ampache/database_object.html#var$object_cache">database_object::$object_cache</a></span><br>
							</span>
													<span class="var-title">
								<span class="var-name"><a href="../Ampache/database_object.html#var$_enabled">database_object::$_enabled</a></span><br>
							</span>
											</blockquote> 
										
		</div>
	</div>
	
	<a name="sec-methods"></a>
	<div class="info-box">
		<div class="info-box-title">Methods</div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
															<a href="#sec-var-summary">Vars</a> (<a href="#sec-vars">details</a>)
																	<a href="#sec-method-summary">Methods</a> (<span class="disabled">details</span>)
						
		</div>
		<div class="info-box-body">
			<A NAME='method_detail'></A>
<a name="methodbuild_vote_cache" id="build_vote_cache"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">static build_vote_cache</span> (line <span class="line-number">84</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">build_vote_cache</p>
<p class="description"><p>This builds a vote cache of the objects we've got in the playlist</p></p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		static <span class="method-result">void</span>
		<span class="method-name">
			build_vote_cache
		</span>
					(<span class="var-type"></span>&nbsp;<span class="var-name">$ids</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type"></span>
				<span class="var-name">$ids</span>			</li>
				</ul>
		
			
	</div>
<a name="methodcreate" id="create"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">static create</span> (line <span class="line-number">575</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">create</p>
<p class="description"><p>This is the democratic play create function it inserts this into the democratic table</p></p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		static <span class="method-result">void</span>
		<span class="method-name">
			create
		</span>
					(<span class="var-type"></span>&nbsp;<span class="var-name">$data</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type"></span>
				<span class="var-name">$data</span>			</li>
				</ul>
		
			<hr class="separator" />
		<div class="notes">Redefinition of:</div>
		<dl>
			<dt><a href="../Ampache/tmpPlaylist.html#methodcreate">tmpPlaylist::create()</a></dt>
						<dd>create  This function initializes a new tmpPlaylist. It is associated with  the current session rather than a user, as you could have the same  user logged in from multiple locations.</dd>
					</dl>
			
	</div>
<a name="methoddelete" id="delete"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">static delete</span> (line <span class="line-number">537</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">delete</p>
<p class="description"><p>This deletes a democratic playlist</p></p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		static <span class="method-result">void</span>
		<span class="method-name">
			delete
		</span>
					(<span class="var-type"></span>&nbsp;<span class="var-name">$democratic_id</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type"></span>
				<span class="var-name">$democratic_id</span>			</li>
				</ul>
		
			
	</div>
<a name="methodget_current_playlist" id="get_current_playlist"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">static get_current_playlist</span> (line <span class="line-number">213</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">get_current_playlist</p>
<p class="description"><p>This returns the curren users current playlist, or if specified  this current playlist of the user</p></p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		static <span class="method-result">void</span>
		<span class="method-name">
			get_current_playlist
		</span>
				()
			</div>
	
		
			
	</div>
<a name="methodget_playlists" id="get_playlists"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">static get_playlists</span> (line <span class="line-number">190</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">get_playlists  This returns all of the current valid 'Democratic' Playlists  that have been created.</p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		static <span class="method-result">void</span>
		<span class="method-name">
			get_playlists
		</span>
				()
			</div>
	
		
			
	</div>
<a name="methodprune_tracks" id="prune_tracks"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">static prune_tracks</span> (line <span class="line-number">607</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">prune_tracks</p>
<p class="description"><p>This replaces the normal prune tracks and correctly removes the votes  as well</p></p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		static <span class="method-result">void</span>
		<span class="method-name">
			prune_tracks
		</span>
				()
			</div>
	
		
			<hr class="separator" />
		<div class="notes">Redefinition of:</div>
		<dl>
			<dt><a href="../Ampache/tmpPlaylist.html#methodprune_tracks">tmpPlaylist::prune_tracks()</a></dt>
						<dd>prune_tracks</dd>
					</dl>
			
	</div>
<a name="methodset_user_preferences" id="set_user_preferences"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">static set_user_preferences</span> (line <span class="line-number">138</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">set_user_preferences</p>
<p class="description"><p>This sets up a (or all) user(s) to use democratic play. This sets their play method  and playlist method (clear on send) If no user is passed it does it for everyone and  also locks down the ability to change to admins only</p></p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		static <span class="method-result">void</span>
		<span class="method-name">
			set_user_preferences
		</span>
					([<span class="var-type"></span>&nbsp;<span class="var-name">$user</span> = <span class="var-default">NULL</span>])
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type"></span>
				<span class="var-name">$user</span>			</li>
				</ul>
		
			
	</div>
<a name="method__construct" id="__construct"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">Constructor __construct</span> (line <span class="line-number">68</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">constructor</p>
<p class="description"><p>We need a constructor for this class. It does it's own thing now</p></p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">Democratic</span>
		<span class="method-name">
			__construct
		</span>
					([<span class="var-type"></span>&nbsp;<span class="var-name">$id</span> = <span class="var-default">''</span>])
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type"></span>
				<span class="var-name">$id</span>			</li>
				</ul>
		
			<hr class="separator" />
		<div class="notes">Redefinition of:</div>
		<dl>
			<dt><a href="../Ampache/tmpPlaylist.html#method__construct">tmpPlaylist::__construct()</a></dt>
						<dd>Constructor  This takes a playlist_id as an optional argument and gathers the  information.  If no playlist_id is passed or the requested one isn't  found, return false.</dd>
					</dl>
			
	</div>
<a name="methodadd_vote" id="add_vote"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">add_vote</span> (line <span class="line-number">446</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">add_vote</p>
<p class="description"><p>This takes a object id and user and actually inserts the row</p></p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			add_vote
		</span>
					(<span class="var-type"></span>&nbsp;<span class="var-name">$object_id</span>, [<span class="var-type"></span>&nbsp;<span class="var-name">$object_type</span> = <span class="var-default">''</span>])
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type"></span>
				<span class="var-name">$object_id</span>			</li>
					<li>
				<span class="var-type"></span>
				<span class="var-name">$object_type</span>			</li>
				</ul>
		
			
	</div>
<a name="methodclear" id="clear"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">clear</span> (line <span class="line-number">625</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">clear  This is really just a wrapper function, it clears the entire playlist  including all votes etc.</p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			clear
		</span>
				()
			</div>
	
		
			<hr class="separator" />
		<div class="notes">Redefinition of:</div>
		<dl>
			<dt><a href="../Ampache/tmpPlaylist.html#methodclear">tmpPlaylist::clear()</a></dt>
						<dd>clear</dd>
					</dl>
			
	</div>
<a name="methodclear_votes" id="clear_votes"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">clear_votes</span> (line <span class="line-number">649</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">clean_votes</p>
<p class="description"><p>This removes in left over garbage in the votes table</p></p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			clear_votes
		</span>
				()
			</div>
	
		
			
	</div>
<a name="methoddelete_from_oid" id="delete_from_oid"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">delete_from_oid</span> (line <span class="line-number">520</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">delete_from_oid</p>
<p class="description"><p>This takes an OID and type and removes the object from the democratic playlist</p></p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			delete_from_oid
		</span>
					(<span class="var-type"></span>&nbsp;<span class="var-name">$oid</span>, <span class="var-type"></span>&nbsp;<span class="var-name">$object_type</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type"></span>
				<span class="var-name">$oid</span>			</li>
					<li>
				<span class="var-type"></span>
				<span class="var-name">$object_type</span>			</li>
				</ul>
		
			
	</div>
<a name="methoddelete_votes" id="delete_votes"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">delete_votes</span> (line <span class="line-number">502</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">delete_votes</p>
<p class="description"><p>This removes the votes for the specified object on the current playlist</p></p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			delete_votes
		</span>
					(<span class="var-type"></span>&nbsp;<span class="var-name">$row_id</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type"></span>
				<span class="var-name">$row_id</span>			</li>
				</ul>
		
			
	</div>
<a name="methodformat" id="format"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">format</span> (line <span class="line-number">160</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">format</p>
<p class="description"><p>This makes the objects variables all purrty so that they can be displayed</p></p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			format
		</span>
				()
			</div>
	
		
			
	</div>
<a name="methodget_cool_songs" id="get_cool_songs"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">get_cool_songs</span> (line <span class="line-number">383</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">get_cool_songs  This returns all of the song_ids for songs that have happened within the last 'cooldown'  for this user.</p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			get_cool_songs
		</span>
				()
			</div>
	
		
			
	</div>
<a name="methodget_items" id="get_items"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">get_items</span> (line <span class="line-number">248</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">get_items</p>
<p class="description"><p>This returns an array of all object_ids currently in this tmpPlaylist. This  has gotten a little more complicated because of type, the values are an array <ol><li>being ID 1 being TYPE</li></ol> FIXME: This is too complex, it makes my brain hurt  [VOTE COUNT]  	[DATE OF NEWEST VOTE] 		[ROW ID]  			[OBJECT_ID] 			[OBJECT_TYPE]</p><p>Sorting does the following  sort largest VOTE COUNT to top  sort smallest DATE OF NEWEST VOTE]</p></p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			get_items
		</span>
				()
			</div>
	
		
			<hr class="separator" />
		<div class="notes">Redefinition of:</div>
		<dl>
			<dt><a href="../Ampache/tmpPlaylist.html#methodget_items">tmpPlaylist::get_items()</a></dt>
						<dd>get_items  Returns an array of all object_ids currently in this tmpPlaylist.</dd>
					</dl>
			
	</div>
<a name="methodget_next_object" id="get_next_object"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">get_next_object</span> (line <span class="line-number">324</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">get_next_object</p>
<p class="description"><p>This returns the next object in the tmp_playlist most of the time this  will just be the top entry, but if there is a base_playlist and no  items in the playlist then it returns a random entry from the base_playlist</p></p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			get_next_object
		</span>
					([<span class="var-type"></span>&nbsp;<span class="var-name">$offset</span> = <span class="var-default">''</span>])
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type"></span>
				<span class="var-name">$offset</span>			</li>
				</ul>
		
			<hr class="separator" />
		<div class="notes">Redefinition of:</div>
		<dl>
			<dt><a href="../Ampache/tmpPlaylist.html#methodget_next_object">tmpPlaylist::get_next_object()</a></dt>
						<dd>get_next_object</dd>
					</dl>
			
	</div>
<a name="methodget_uid_from_object_id" id="get_uid_from_object_id"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">get_uid_from_object_id</span> (line <span class="line-number">362</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">get_uid_from_object_id</p>
<p class="description"><p>This takes an object_id and an object type and returns the ID for the row</p></p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			get_uid_from_object_id
		</span>
					(<span class="var-type"></span>&nbsp;<span class="var-name">$object_id</span>, [<span class="var-type"></span>&nbsp;<span class="var-name">$object_type</span> = <span class="var-default">''</span>])
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type"></span>
				<span class="var-name">$object_id</span>			</li>
					<li>
				<span class="var-type"></span>
				<span class="var-name">$object_type</span>			</li>
				</ul>
		
			
	</div>
<a name="methodget_vote" id="get_vote"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">get_vote</span> (line <span class="line-number">664</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">get_vote</p>
<p class="description"><p>This returns the current count for a specific song on this tmp_playlist</p></p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			get_vote
		</span>
					(<span class="var-type"></span>&nbsp;<span class="var-name">$object_id</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type"></span>
				<span class="var-name">$object_id</span>			</li>
				</ul>
		
			
	</div>
<a name="methodget_voters" id="get_voters"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">get_voters</span> (line <span class="line-number">687</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">get_voters</p>
<p class="description"><p>This returns the users that voted for the specified object  This is an array of user ids</p></p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			get_voters
		</span>
					(<span class="var-type"></span>&nbsp;<span class="var-name">$object_id</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type"></span>
				<span class="var-name">$object_id</span>			</li>
				</ul>
		
			
	</div>
<a name="methodhas_vote" id="has_vote"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">has_vote</span> (line <span class="line-number">418</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">has_vote</p>
<p class="description"><p>This checks to see if the current user has already voted on this object</p></p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			has_vote
		</span>
					(<span class="var-type"></span>&nbsp;<span class="var-name">$object_id</span>, [<span class="var-type"></span>&nbsp;<span class="var-name">$type</span> = <span class="var-default">''</span>])
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type"></span>
				<span class="var-name">$object_id</span>			</li>
					<li>
				<span class="var-type"></span>
				<span class="var-name">$type</span>			</li>
				</ul>
		
			
	</div>
<a name="methodis_enabled" id="is_enabled"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">is_enabled</span> (line <span class="line-number">106</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">is_enabled</p>
<p class="description"><p>This function just returns true / false if the current democraitc playlist  is currently enabled / configured</p></p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			is_enabled
		</span>
				()
			</div>
	
		
			
	</div>
<a name="methodplay_url" id="play_url"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">play_url</span> (line <span class="line-number">310</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">play_url</p>
<p class="description"><p>This returns the special play URL for democratic play, only open to ADMINs</p></p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			play_url
		</span>
				()
			</div>
	
		
			
	</div>
<a name="methodremove_vote" id="remove_vote"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">remove_vote</span> (line <span class="line-number">483</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">remove_vote</p>
<p class="description"><p>This is called to remove a vote by a user for an object, it uses the object_id  As that's what we'll have most the time, no need to check if they've got an existing  vote for this, just remove anything that is there</p></p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			remove_vote
		</span>
					(<span class="var-type"></span>&nbsp;<span class="var-name">$row_id</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type"></span>
				<span class="var-name">$row_id</span>			</li>
				</ul>
		
			
	</div>
<a name="methodset_parent" id="set_parent"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">set_parent</span> (line <span class="line-number">118</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">set_parent</p>
<p class="description"><p>This returns the tmpPlaylist for this democratic play instance</p></p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			set_parent
		</span>
				()
			</div>
	
		
			
	</div>
<a name="methodupdate" id="update"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">update</span> (line <span class="line-number">557</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">update</p>
<p class="description"><p>This updates an existing democratic playlist item. It takes a key'd array just like the create</p></p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			update
		</span>
					(<span class="var-type"></span>&nbsp;<span class="var-name">$data</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type"></span>
				<span class="var-name">$data</span>			</li>
				</ul>
		
			
	</div>
<a name="methodvote" id="vote"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">vote</span> (line <span class="line-number">401</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">vote</p>
<p class="description"><p>This function is called by users to vote on a system wide playlist  This adds the specified objects to the tmp_playlist and adds a 'vote'  by this user, naturally it checks to make sure that the user hasn't  already voted on any of these objects</p></p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			vote
		</span>
					(<span class="var-type"></span>&nbsp;<span class="var-name">$items</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type"></span>
				<span class="var-name">$items</span>			</li>
				</ul>
		
			
	</div>
							<h4>Inherited Methods</h4>
				<a name='inherited_methods'><!-- --></a>	
									<!-- =========== Summary =========== -->
					<p>Inherited From <span class="classname"><a href="../Ampache/tmpPlaylist.html">tmpPlaylist</a></span></p>
					<blockquote>
													<span class="method-name"><a href="../Ampache/tmpPlaylist.html#method__construct">tmpPlaylist::__construct()</a></span><br>
													<span class="method-name"><a href="../Ampache/tmpPlaylist.html#methodadd_object">tmpPlaylist::add_object()</a></span><br>
													<span class="method-name"><a href="../Ampache/tmpPlaylist.html#methodclean">tmpPlaylist::clean()</a></span><br>
													<span class="method-name"><a href="../Ampache/tmpPlaylist.html#methodclear">tmpPlaylist::clear()</a></span><br>
													<span class="method-name"><a href="../Ampache/tmpPlaylist.html#methodcount_items">tmpPlaylist::count_items()</a></span><br>
													<span class="method-name"><a href="../Ampache/tmpPlaylist.html#methodcreate">tmpPlaylist::create()</a></span><br>
													<span class="method-name"><a href="../Ampache/tmpPlaylist.html#methoddelete_track">tmpPlaylist::delete_track()</a></span><br>
													<span class="method-name"><a href="../Ampache/tmpPlaylist.html#methodget_from_session">tmpPlaylist::get_from_session()</a></span><br>
													<span class="method-name"><a href="../Ampache/tmpPlaylist.html#methodget_from_userid">tmpPlaylist::get_from_userid()</a></span><br>
													<span class="method-name"><a href="../Ampache/tmpPlaylist.html#methodget_items">tmpPlaylist::get_items()</a></span><br>
													<span class="method-name"><a href="../Ampache/tmpPlaylist.html#methodget_next_object">tmpPlaylist::get_next_object()</a></span><br>
													<span class="method-name"><a href="../Ampache/tmpPlaylist.html#methodprune_playlists">tmpPlaylist::prune_playlists()</a></span><br>
													<span class="method-name"><a href="../Ampache/tmpPlaylist.html#methodprune_tracks">tmpPlaylist::prune_tracks()</a></span><br>
													<span class="method-name"><a href="../Ampache/tmpPlaylist.html#methodsession_clean">tmpPlaylist::session_clean()</a></span><br>
													<span class="method-name"><a href="../Ampache/tmpPlaylist.html#methodupdate_playlist">tmpPlaylist::update_playlist()</a></span><br>
													<span class="method-name"><a href="../Ampache/tmpPlaylist.html#methodvote_active">tmpPlaylist::vote_active()</a></span><br>
													<span class="method-name"><a href="../Ampache/tmpPlaylist.html#method_get_info">tmpPlaylist::_get_info()</a></span><br>
											</blockquote>
									<!-- =========== Summary =========== -->
					<p>Inherited From <span class="classname"><a href="../Ampache/database_object.html">database_object</a></span></p>
					<blockquote>
													<span class="method-name"><a href="../Ampache/database_object.html#methodadd_to_cache">database_object::add_to_cache()</a></span><br>
													<span class="method-name"><a href="../Ampache/database_object.html#methodget_from_cache">database_object::get_from_cache()</a></span><br>
													<span class="method-name"><a href="../Ampache/database_object.html#methodget_info">database_object::get_info()</a></span><br>
													<span class="method-name"><a href="../Ampache/database_object.html#methodis_cached">database_object::is_cached()</a></span><br>
													<span class="method-name"><a href="../Ampache/database_object.html#methodremove_from_cache">database_object::remove_from_cache()</a></span><br>
													<span class="method-name"><a href="../Ampache/database_object.html#method_auto_init">database_object::_auto_init()</a></span><br>
											</blockquote>
										
		</div>
	</div>


	<p class="notes" id="credit">
		Documentation generated on Fri, 25 Feb 2011 07:37:26 +0900 by <a href="http://www.phpdoc.org" target="_blank">phpDocumentor 1.4.3</a>
	</p>
	</div></body>
</html>