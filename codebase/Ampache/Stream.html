<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
  <html xmlns="http://www.w3.org/1999/xhtml">
		<head>
			<!-- template designed by Marco Von Ballmoos  -->
			<title>Docs For Class Stream</title>
			<link rel="stylesheet" href="../media/stylesheet.css" />
						<script src="../media/lib/classTree.js"></script>
												<script language="javascript" type="text/javascript">
				var imgPlus = new Image();
				var imgMinus = new Image();
				imgPlus.src = "../media/images/plus.png";
				imgMinus.src = "../media/images/minus.png";
				
				function showNode(Node){
							switch(navigator.family){
								case 'nn4':
									// Nav 4.x code fork...
							var oTable = document.layers["span" + Node];
							var oImg = document.layers["img" + Node];
									break;
								case 'ie4':
									// IE 4/5 code fork...
							var oTable = document.all["span" + Node];
							var oImg = document.all["img" + Node];
									break;
								case 'gecko':
									// Standards Compliant code fork...
							var oTable = document.getElementById("span" + Node);
							var oImg = document.getElementById("img" + Node);
									break;
							}
					oImg.src = imgMinus.src;
					oTable.style.display = "block";
				}
				
				function hideNode(Node){
							switch(navigator.family){
								case 'nn4':
									// Nav 4.x code fork...
							var oTable = document.layers["span" + Node];
							var oImg = document.layers["img" + Node];
									break;
								case 'ie4':
									// IE 4/5 code fork...
							var oTable = document.all["span" + Node];
							var oImg = document.all["img" + Node];
									break;
								case 'gecko':
									// Standards Compliant code fork...
							var oTable = document.getElementById("span" + Node);
							var oImg = document.getElementById("img" + Node);
									break;
							}
					oImg.src = imgPlus.src;
					oTable.style.display = "none";
				}
				
				function nodeIsVisible(Node){
							switch(navigator.family){
								case 'nn4':
									// Nav 4.x code fork...
							var oTable = document.layers["span" + Node];
									break;
								case 'ie4':
									// IE 4/5 code fork...
							var oTable = document.all["span" + Node];
									break;
								case 'gecko':
									// Standards Compliant code fork...
							var oTable = document.getElementById("span" + Node);
									break;
							}
					return (oTable && oTable.style.display == "block");
				}
				
				function toggleNodeVisibility(Node){
					if (nodeIsVisible(Node)){
						hideNode(Node);
					}else{
						showNode(Node);
					}
				}
			</script>
					</head>
		<body>
			<div class="page-body">			
<h2 class="class-name">Class Stream</h2>

<a name="sec-description"></a>
<div class="info-box">
	<div class="info-box-title">Description</div>
	<div class="nav-bar">
					<span class="disabled">Description</span> |
													<a href="#sec-var-summary">Vars</a> (<a href="#sec-vars">details</a>)
						|											<a href="#sec-method-summary">Methods</a> (<a href="#sec-methods">details</a>)
						
					</div>
	<div class="info-box-body">
        		<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Stream Class</p>
<p class="description"><p>This class is used to generate the Playlists and pass them on  With Localplay this actually just sends the commands to the localplay  module in question. It has two sources for data  songs (array of ids) and urls (array of full urls)</p></p>
	<ul class="tags">
				<li><span class="field">author:</span> Karl Vollmer &lt;<a href="mailto:vollmer@ampache.org">vollmer@ampache.org</a>&gt;</li>
				<li><span class="field">version:</span> Release: 3.6</li>
				<li><span class="field">copyright:</span> 2001 - 2011 Ampache.org</li>
				<li><span class="field">link:</span> <a href="http://www.ampache.org/">http://www.ampache.org/</a></li>
				<li><span class="field">since:</span> Class available since Release 1.0</li>
				<li><span class="field">license:</span> <a href="http://opensource.org/licenses/gpl-2.0">GPLv2</a></li>
			</ul>
		<p class="notes">
			Located in <a class="field" href="_lib---class---stream.class.php.html">/lib/class/stream.class.php</a> (line <span class="field">51</span>)
		</p>
		
				
		<pre></pre>
	
			</div>
</div>



	<a name="sec-var-summary"></a>
	<div class="info-box">
		<div class="info-box-title">Variable Summary</span></div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
						<span class="disabled">Vars</span> (<a href="#sec-vars">details</a>)
							| 
									<a href="#sec-method-summary">Methods</a> (<a href="#sec-methods">details</a>)
							
								</div>
		<div class="info-box-body">
			<div class="var-summary">
																												<div class="var-title">
					static <span class="var-type">mixed</span>
					<a href="#$session" title="details" class="var-name">$session</a>
				</div>
																<div class="var-title">
					static <span class="var-type">mixed</span>
					<a href="#$session_inserted" title="details" class="var-name">$session_inserted</a>
				</div>
																																																				<div class="var-title">
					<span class="var-type">mixed</span>
					<a href="#$media" title="details" class="var-name">$media</a>
				</div>
																<div class="var-title">
					<span class="var-type">mixed</span>
					<a href="#$sess" title="details" class="var-name">$sess</a>
				</div>
																																<div class="var-title">
					<span class="var-type">mixed</span>
					<a href="#$type" title="details" class="var-name">$type</a>
				</div>
																<div class="var-title">
					<span class="var-type">mixed</span>
					<a href="#$urls" title="details" class="var-name">$urls</a>
				</div>
																<div class="var-title">
					<span class="var-type">mixed</span>
					<a href="#$user_id" title="details" class="var-name">$user_id</a>
				</div>
																<div class="var-title">
					<span class="var-type">mixed</span>
					<a href="#$web_path" title="details" class="var-name">$web_path</a>
				</div>
											</div>
		</div>
	</div>

	<a name="sec-method-summary"></a>
	<div class="info-box">
		<div class="info-box-title">Method Summary</span></div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
																		<a href="#sec-var-summary">Vars</a> (<a href="#sec-vars">details</a>)
				 
				|
						<span class="disabled">Methods</span> (<a href="#sec-methods">details</a>)
		</div>
		<div class="info-box-body">			
			<div class="method-summary">
																										
				<div class="method-definition">
					static 						<span class="method-result">void</span>
										<a href="#check_lock_media" title="details" class="method-name">check_lock_media</a>
											(<span class="var-type"></span>&nbsp;<span class="var-name">$media_id</span>, <span class="var-type"></span>&nbsp;<span class="var-name">$type</span>)
									</div>
														
				<div class="method-definition">
					static 						<span class="method-result">void</span>
										<a href="#clear_now_playing" title="details" class="method-name">clear_now_playing</a>
										()
									</div>
																																																																																														
				<div class="method-definition">
					static 						<span class="method-result">void</span>
										<a href="#extend_session" title="details" class="method-name">extend_session</a>
											(<span class="var-type"></span>&nbsp;<span class="var-name">$sid</span>, <span class="var-type"></span>&nbsp;<span class="var-name">$uid</span>)
									</div>
														
				<div class="method-definition">
					static 						<span class="method-result">void</span>
										<a href="#gc_now_playing" title="details" class="method-name">gc_now_playing</a>
										()
									</div>
														
				<div class="method-definition">
					static 						<span class="method-result">void</span>
										<a href="#gc_session" title="details" class="method-name">gc_session</a>
											([<span class="var-type"></span>&nbsp;<span class="var-name">$ip</span> = <span class="var-default">''</span>], [<span class="var-type"></span>&nbsp;<span class="var-name">$agent</span> = <span class="var-default">''</span>], [<span class="var-type"></span>&nbsp;<span class="var-name">$uid</span> = <span class="var-default">''</span>], [<span class="var-type"></span>&nbsp;<span class="var-name">$sid</span> = <span class="var-default">''</span>])
									</div>
														
				<div class="method-definition">
					static 						<span class="method-result">void</span>
										<a href="#get_base_url" title="details" class="method-name">get_base_url</a>
										()
									</div>
														
				<div class="method-definition">
					static 						<span class="method-result">void</span>
										<a href="#get_now_playing" title="details" class="method-name">get_now_playing</a>
											([<span class="var-type"></span>&nbsp;<span class="var-name">$filter</span> = <span class="var-default">NULL</span>])
									</div>
														
				<div class="method-definition">
					static 						<span class="method-result">void</span>
										<a href="#get_session" title="details" class="method-name">get_session</a>
										()
									</div>
														
				<div class="method-definition">
					static 						<span class="method-result">void</span>
										<a href="#insert_now_playing" title="details" class="method-name">insert_now_playing</a>
											(<span class="var-type"></span>&nbsp;<span class="var-name">$oid</span>, <span class="var-type"></span>&nbsp;<span class="var-name">$uid</span>, <span class="var-type"></span>&nbsp;<span class="var-name">$length</span>, <span class="var-type"></span>&nbsp;<span class="var-name">$sid</span>, <span class="var-type"></span>&nbsp;<span class="var-name">$type</span>)
									</div>
														
				<div class="method-definition">
					static 						<span class="method-result">void</span>
										<a href="#insert_session" title="details" class="method-name">insert_session</a>
											([<span class="var-type"></span>&nbsp;<span class="var-name">$sid</span> = <span class="var-default">''</span>], [<span class="var-type"></span>&nbsp;<span class="var-name">$uid</span> = <span class="var-default">''</span>])
									</div>
														
				<div class="method-definition">
					static 						<span class="method-result">void</span>
										<a href="#run_playlist_method" title="details" class="method-name">run_playlist_method</a>
										()
									</div>
														
				<div class="method-definition">
					static 						<span class="method-result">void</span>
										<a href="#session_exists" title="details" class="method-name">session_exists</a>
											(<span class="var-type"></span>&nbsp;<span class="var-name">$sid</span>)
									</div>
														
				<div class="method-definition">
					static 						<span class="method-result">void</span>
										<a href="#set_session" title="details" class="method-name">set_session</a>
											(<span class="var-type"></span>&nbsp;<span class="var-name">$sid</span>)
									</div>
																						
				<div class="method-definition">
					static 						<span class="method-result">void</span>
										<a href="#start_downsample" title="details" class="method-name">start_downsample</a>
											(<span class="var-type"></span>&nbsp;<span class="var-name">&$song</span>, [<span class="var-type"></span>&nbsp;<span class="var-name">$now_playing_id</span> = <span class="var-default">0</span>], [<span class="var-type"></span>&nbsp;<span class="var-name">$song_name</span> = <span class="var-default">0</span>], [<span class="var-type"></span>&nbsp;<span class="var-name">$start</span> = <span class="var-default">0</span>])
									</div>
														
				<div class="method-definition">
					static 						<span class="method-result">void</span>
										<a href="#validate_bitrate" title="details" class="method-name">validate_bitrate</a>
											(<span class="var-type"></span>&nbsp;<span class="var-name">$bitrate</span>)
									</div>
														
				<div class="method-definition">
					static 						<span class="method-result">void</span>
										<a href="#_auto_init" title="details" class="method-name">_auto_init</a>
										()
									</div>
																		
				<div class="method-definition">
											<span class="method-result">Stream</span>
										<a href="#__construct" title="details" class="method-name">__construct</a>
											([<span class="var-type"></span>&nbsp;<span class="var-name">$type</span> = <span class="var-default">'m3u'</span>], <span class="var-type"></span>&nbsp;<span class="var-name">$media_ids</span>)
									</div>
														
				<div class="method-definition">
											<span class="method-result">void</span>
										<a href="#add_urls" title="details" class="method-name">add_urls</a>
											([<span class="var-type"></span>&nbsp;<span class="var-name">$urls</span> = <span class="var-default">array()</span>])
									</div>
																														
				<div class="method-definition">
											<span class="method-result">void</span>
										<a href="#create_asx" title="details" class="method-name">create_asx</a>
										()
									</div>
														
				<div class="method-definition">
											<span class="method-result">void</span>
										<a href="#create_democratic" title="details" class="method-name">create_democratic</a>
										()
									</div>
														
				<div class="method-definition">
											<span class="method-result">void</span>
										<a href="#create_download" title="details" class="method-name">create_download</a>
										()
									</div>
														
				<div class="method-definition">
											<span class="method-result">void</span>
										<a href="#create_localplay" title="details" class="method-name">create_localplay</a>
										()
									</div>
														
				<div class="method-definition">
											<span class="method-result">void</span>
										<a href="#create_m3u" title="details" class="method-name">create_m3u</a>
										()
									</div>
														
				<div class="method-definition">
											<span class="method-result">void</span>
										<a href="#create_pls" title="details" class="method-name">create_pls</a>
										()
									</div>
														
				<div class="method-definition">
											<span class="method-result">void</span>
										<a href="#create_ram" title="details" class="method-name">create_ram</a>
										()
									</div>
														
				<div class="method-definition">
											<span class="method-result">void</span>
										<a href="#create_simple_m3u" title="details" class="method-name">create_simple_m3u</a>
										()
									</div>
														
				<div class="method-definition">
											<span class="method-result">void</span>
										<a href="#create_xspf" title="details" class="method-name">create_xspf</a>
										()
									</div>
														
				<div class="method-definition">
											<span class="method-result">void</span>
										<a href="#create_xspf_player" title="details" class="method-name">create_xspf_player</a>
										()
									</div>
																																																																																																						
				<div class="method-definition">
											<span class="method-result">void</span>
										<a href="#start" title="details" class="method-name">start</a>
										()
									</div>
																																			</div>
		</div>
	</div>		

	<a name="sec-vars"></a>
	<div class="info-box">
		<div class="info-box-title">Variables</div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
										<a href="#sec-var-summary">Vars</a> (<span class="disabled">details</span>)
						
			
										| 
									<a href="#sec-method-summary">Methods</a> (<a href="#sec-methods">details</a>)
							
					</div>
		<div class="info-box-body">
			<a name="var$session" id="$session"><!-- --></A>
<div class="oddrow">

	<div class="var-header">
		<span class="var-title">
			static <span class="var-type">mixed</span>
			<span class="var-name">$session</span>
						(line <span class="line-number">62</span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	
		
		

</div>
<a name="var$session_inserted" id="$session_inserted"><!-- --></A>
<div class="evenrow">

	<div class="var-header">
		<span class="var-title">
			static <span class="var-type">mixed</span>
			<span class="var-name">$session_inserted</span>
						(line <span class="line-number">65</span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
	<ul class="tags">
				<li><span class="field">access:</span> private</li>
			</ul>
	
	
		
		

</div>

<a name="var$media" id="$media"><!-- --></A>
<div class="oddrow">

	<div class="var-header">
		<span class="var-title">
			<span class="var-type">mixed</span>
			<span class="var-name">$media</span>
			 = <span class="var-default">array()</span>			(line <span class="line-number">56</span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	
		
		

</div>
<a name="var$sess" id="$sess"><!-- --></A>
<div class="evenrow">

	<div class="var-header">
		<span class="var-title">
			<span class="var-type">mixed</span>
			<span class="var-name">$sess</span>
						(line <span class="line-number">58</span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	
		
		

</div>
<a name="var$type" id="$type"><!-- --></A>
<div class="oddrow">

	<div class="var-header">
		<span class="var-title">
			<span class="var-type">mixed</span>
			<span class="var-name">$type</span>
						(line <span class="line-number">54</span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	
		
		

</div>
<a name="var$urls" id="$urls"><!-- --></A>
<div class="evenrow">

	<div class="var-header">
		<span class="var-title">
			<span class="var-type">mixed</span>
			<span class="var-name">$urls</span>
			 = <span class="var-default">array()</span>			(line <span class="line-number">57</span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	
		
		

</div>
<a name="var$user_id" id="$user_id"><!-- --></A>
<div class="oddrow">

	<div class="var-header">
		<span class="var-title">
			<span class="var-type">mixed</span>
			<span class="var-name">$user_id</span>
						(line <span class="line-number">59</span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	
		
		

</div>
<a name="var$web_path" id="$web_path"><!-- --></A>
<div class="evenrow">

	<div class="var-header">
		<span class="var-title">
			<span class="var-type">mixed</span>
			<span class="var-name">$web_path</span>
						(line <span class="line-number">55</span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	
		
		

</div>
						
		</div>
	</div>
	
	<a name="sec-methods"></a>
	<div class="info-box">
		<div class="info-box-title">Methods</div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
															<a href="#sec-var-summary">Vars</a> (<a href="#sec-vars">details</a>)
																	<a href="#sec-method-summary">Methods</a> (<span class="disabled">details</span>)
						
		</div>
		<div class="info-box-body">
			<A NAME='method_detail'></A>
<a name="methodcheck_lock_media" id="check_lock_media"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">static check_lock_media</span> (line <span class="line-number">822</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">check_lock_media</p>
<p class="description"><p>This checks to see if the media is already being played, if it is then it returns false  else return true</p></p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		static <span class="method-result">void</span>
		<span class="method-name">
			check_lock_media
		</span>
					(<span class="var-type"></span>&nbsp;<span class="var-name">$media_id</span>, <span class="var-type"></span>&nbsp;<span class="var-name">$type</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type"></span>
				<span class="var-name">$media_id</span>			</li>
					<li>
				<span class="var-type"></span>
				<span class="var-name">$type</span>			</li>
				</ul>
		
			
	</div>
<a name="methodclear_now_playing" id="clear_now_playing"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">static clear_now_playing</span> (line <span class="line-number">782</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">clear_now_playing</p>
<p class="description"><p>There really isn't anywhere else for this function, shouldn't have deleted it in the first  place</p></p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		static <span class="method-result">void</span>
		<span class="method-name">
			clear_now_playing
		</span>
				()
			</div>
	
		
			
	</div>
<a name="methodextend_session" id="extend_session"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">static extend_session</span> (line <span class="line-number">229</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">extend_session</p>
<p class="description"><p>This takes the passed sid and does a replace into also setting the user  agent and IP also do a little GC in this function</p></p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		static <span class="method-result">void</span>
		<span class="method-name">
			extend_session
		</span>
					(<span class="var-type"></span>&nbsp;<span class="var-name">$sid</span>, <span class="var-type"></span>&nbsp;<span class="var-name">$uid</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type"></span>
				<span class="var-name">$sid</span>			</li>
					<li>
				<span class="var-type"></span>
				<span class="var-name">$uid</span>			</li>
				</ul>
		
			
	</div>
<a name="methodgc_now_playing" id="gc_now_playing"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">static gc_now_playing</span> (line <span class="line-number">748</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">gc_now_playing</p>
<p class="description"><p>This will garbage collect the now playing data,  this is done on every play start</p></p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		static <span class="method-result">void</span>
		<span class="method-name">
			gc_now_playing
		</span>
				()
			</div>
	
		
			
	</div>
<a name="methodgc_session" id="gc_session"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">static gc_session</span> (line <span class="line-number">201</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">gc_session</p>
<p class="description"><p>This function performes the garbage collection stuff, run on extend and on now playing refresh  There is an array of agents that we will never GC because of their nature, MPD being the best example</p></p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		static <span class="method-result">void</span>
		<span class="method-name">
			gc_session
		</span>
					([<span class="var-type"></span>&nbsp;<span class="var-name">$ip</span> = <span class="var-default">''</span>], [<span class="var-type"></span>&nbsp;<span class="var-name">$agent</span> = <span class="var-default">''</span>], [<span class="var-type"></span>&nbsp;<span class="var-name">$uid</span> = <span class="var-default">''</span>], [<span class="var-type"></span>&nbsp;<span class="var-name">$sid</span> = <span class="var-default">''</span>])
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type"></span>
				<span class="var-name">$ip</span>			</li>
					<li>
				<span class="var-type"></span>
				<span class="var-name">$agent</span>			</li>
					<li>
				<span class="var-type"></span>
				<span class="var-name">$uid</span>			</li>
					<li>
				<span class="var-type"></span>
				<span class="var-name">$sid</span>			</li>
				</ul>
		
			
	</div>
<a name="methodget_base_url" id="get_base_url"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">static get_base_url</span> (line <span class="line-number">890</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">get_base_url</p>
<p class="description"><p>This returns the base requirements for a stream URL this does not include anything after the index.php?sid=????</p></p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		static <span class="method-result">void</span>
		<span class="method-name">
			get_base_url
		</span>
				()
			</div>
	
		
			
	</div>
<a name="methodget_now_playing" id="get_now_playing"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">static get_now_playing</span> (line <span class="line-number">795</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">get_now_playing</p>
<p class="description"><p>This returns the now playing information</p></p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		static <span class="method-result">void</span>
		<span class="method-name">
			get_now_playing
		</span>
					([<span class="var-type"></span>&nbsp;<span class="var-name">$filter</span> = <span class="var-default">NULL</span>])
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type"></span>
				<span class="var-name">$filter</span>			</li>
				</ul>
		
			
	</div>
<a name="methodget_session" id="get_session"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">static get_session</span> (line <span class="line-number">130</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">get_session</p>
<p class="description"><p>This returns the current stream session</p></p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		static <span class="method-result">void</span>
		<span class="method-name">
			get_session
		</span>
				()
			</div>
	
		
			
	</div>
<a name="methodinsert_now_playing" id="insert_now_playing"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">static insert_now_playing</span> (line <span class="line-number">764</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">insert_now_playing</p>
<p class="description"><p>This will insert the now playing data  This fucntion is used by the /play/index.php song  primarily, but could be used by other people</p></p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		static <span class="method-result">void</span>
		<span class="method-name">
			insert_now_playing
		</span>
					(<span class="var-type"></span>&nbsp;<span class="var-name">$oid</span>, <span class="var-type"></span>&nbsp;<span class="var-name">$uid</span>, <span class="var-type"></span>&nbsp;<span class="var-name">$length</span>, <span class="var-type"></span>&nbsp;<span class="var-name">$sid</span>, <span class="var-type"></span>&nbsp;<span class="var-name">$type</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type"></span>
				<span class="var-name">$oid</span>			</li>
					<li>
				<span class="var-type"></span>
				<span class="var-name">$uid</span>			</li>
					<li>
				<span class="var-type"></span>
				<span class="var-name">$length</span>			</li>
					<li>
				<span class="var-type"></span>
				<span class="var-name">$sid</span>			</li>
					<li>
				<span class="var-type"></span>
				<span class="var-name">$type</span>			</li>
				</ul>
		
			
	</div>
<a name="methodinsert_session" id="insert_session"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">static insert_session</span> (line <span class="line-number">157</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">insert_session</p>
<p class="description"><p>This inserts a row into the session_stream table</p></p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		static <span class="method-result">void</span>
		<span class="method-name">
			insert_session
		</span>
					([<span class="var-type"></span>&nbsp;<span class="var-name">$sid</span> = <span class="var-default">''</span>], [<span class="var-type"></span>&nbsp;<span class="var-name">$uid</span> = <span class="var-default">''</span>])
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type"></span>
				<span class="var-name">$sid</span>			</li>
					<li>
				<span class="var-type"></span>
				<span class="var-name">$uid</span>			</li>
				</ul>
		
			
	</div>
<a name="methodrun_playlist_method" id="run_playlist_method"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">static run_playlist_method</span> (line <span class="line-number">857</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">run_playlist_method</p>
<p class="description"><p>This takes care of the different types of 'playlist methods'. The  reason this is here is because it deals with streaming rather than  playlist mojo. If something needs to happen this will echo the  javascript required to cause a reload of the iframe.</p></p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		static <span class="method-result">void</span>
		<span class="method-name">
			run_playlist_method
		</span>
				()
			</div>
	
		
			
	</div>
<a name="methodsession_exists" id="session_exists"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">static session_exists</span> (line <span class="line-number">180</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">session_exists</p>
<p class="description"><p>This checks to see if the passed stream session exists and is valid</p></p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		static <span class="method-result">void</span>
		<span class="method-name">
			session_exists
		</span>
					(<span class="var-type"></span>&nbsp;<span class="var-name">$sid</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type"></span>
				<span class="var-name">$sid</span>			</li>
				</ul>
		
			
	</div>
<a name="methodset_session" id="set_session"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">static set_session</span> (line <span class="line-number">146</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">set_session</p>
<p class="description"><p>This overrides the normal session value, without adding  an additional session into the database, should be called  with care</p></p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		static <span class="method-result">void</span>
		<span class="method-name">
			set_session
		</span>
					(<span class="var-type"></span>&nbsp;<span class="var-name">$sid</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type"></span>
				<span class="var-name">$sid</span>			</li>
				</ul>
		
			
	</div>
<a name="methodstart_downsample" id="start_downsample"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">static start_downsample</span> (line <span class="line-number">619</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">start_downsample</p>
<p class="description"><p>This is a rather complext function that starts the downsampling of a song and returns the  opened file handled a reference to the song object is passed so that the changes we make  in here affect the external object, References++</p></p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		static <span class="method-result">void</span>
		<span class="method-name">
			start_downsample
		</span>
					(<span class="var-type"></span>&nbsp;<span class="var-name">&$song</span>, [<span class="var-type"></span>&nbsp;<span class="var-name">$now_playing_id</span> = <span class="var-default">0</span>], [<span class="var-type"></span>&nbsp;<span class="var-name">$song_name</span> = <span class="var-default">0</span>], [<span class="var-type"></span>&nbsp;<span class="var-name">$start</span> = <span class="var-default">0</span>])
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type"></span>
				<span class="var-name">&$song</span>			</li>
					<li>
				<span class="var-type"></span>
				<span class="var-name">$now_playing_id</span>			</li>
					<li>
				<span class="var-type"></span>
				<span class="var-name">$song_name</span>			</li>
					<li>
				<span class="var-type"></span>
				<span class="var-name">$start</span>			</li>
				</ul>
		
			
	</div>
<a name="methodvalidate_bitrate" id="validate_bitrate"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">static validate_bitrate</span> (line <span class="line-number">733</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">validate_bitrate</p>
<p class="description"><p>this function takes a bitrate and returns a valid one</p></p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		static <span class="method-result">void</span>
		<span class="method-name">
			validate_bitrate
		</span>
					(<span class="var-type"></span>&nbsp;<span class="var-name">$bitrate</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type"></span>
				<span class="var-name">$bitrate</span>			</li>
				</ul>
		
			
	</div>
<a name="method_auto_init" id="_auto_init"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">static _auto_init</span> (line <span class="line-number">843</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">auto_init</p>
<p class="description"><p>This is called on class load it sets the session</p></p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		static <span class="method-result">void</span>
		<span class="method-name">
			_auto_init
		</span>
				()
			</div>
	
		
			
	</div>
<a name="method__construct" id="__construct"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">Constructor __construct</span> (line <span class="line-number">71</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Constructor for the stream class takes a type and an array</p>
<p class="description"><p>of song ids</p></p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">Stream</span>
		<span class="method-name">
			__construct
		</span>
					([<span class="var-type"></span>&nbsp;<span class="var-name">$type</span> = <span class="var-default">'m3u'</span>], <span class="var-type"></span>&nbsp;<span class="var-name">$media_ids</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type"></span>
				<span class="var-name">$type</span>			</li>
					<li>
				<span class="var-type"></span>
				<span class="var-name">$media_ids</span>			</li>
				</ul>
		
			
	</div>
<a name="methodadd_urls" id="add_urls"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">add_urls</span> (line <span class="line-number">118</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">add_urls</p>
<p class="description"><p>Add an array of urls, it may be a single one who knows, this  is used for things that aren't coming from media objects</p></p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			add_urls
		</span>
					([<span class="var-type"></span>&nbsp;<span class="var-name">$urls</span> = <span class="var-default">array()</span>])
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type"></span>
				<span class="var-name">$urls</span>			</li>
				</ul>
		
			
	</div>
<a name="methodcreate_asx" id="create_asx"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">create_asx</span> (line <span class="line-number">374</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">create_asx  creates an ASX playlist (Thx Samir Kuthiala) This should really only be used  if all of the content is ASF files.</p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			create_asx
		</span>
				()
			</div>
	
		
			
	</div>
<a name="methodcreate_democratic" id="create_democratic"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">create_democratic</span> (line <span class="line-number">566</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">create_democratic</p>
<p class="description"><p>This 'votes' on the songs it inserts them into  a tmp_playlist with user of -1 (System)</p></p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			create_democratic
		</span>
				()
			</div>
	
		
			
	</div>
<a name="methodcreate_download" id="create_download"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">create_download</span> (line <span class="line-number">579</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">create_download</p>
<p class="description"><p>This prompts for a download of the song, only a single  element can by in song_ids</p></p>
	<ul class="tags">
				<li><span class="field">access:</span> private</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			create_download
		</span>
				()
			</div>
	
		
			
	</div>
<a name="methodcreate_localplay" id="create_localplay"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">create_localplay</span> (line <span class="line-number">528</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">create_localplay</p>
<p class="description"><p>This calls the Localplay API and attempts to  add, and then start playback</p></p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			create_localplay
		</span>
				()
			</div>
	
		
			
	</div>
<a name="methodcreate_m3u" id="create_m3u"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">create_m3u</span> (line <span class="line-number">278</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">create_m3u</p>
<p class="description"><p>creates an m3u file, this includes the EXTINFO and as such can be  large with very long playlsits</p></p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			create_m3u
		</span>
				()
			</div>
	
		
			
	</div>
<a name="methodcreate_pls" id="create_pls"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">create_pls</span> (line <span class="line-number">324</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">create_pls</p>
<p class="description"><p>This creates a new pls file from an array of songs and  urls, exciting I know</p></p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			create_pls
		</span>
				()
			</div>
	
		
			
	</div>
<a name="methodcreate_ram" id="create_ram"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">create_ram</span> (line <span class="line-number">601</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">create_ram</p>
<p class="description"><p>this functions creates a RAM file for use by Real Player</p></p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			create_ram
		</span>
				()
			</div>
	
		
			
	</div>
<a name="methodcreate_simple_m3u" id="create_simple_m3u"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">create_simple_m3u</span> (line <span class="line-number">251</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">create_simplem3u</p>
<p class="description"><p>this creates a simple m3u without any of the extended information</p></p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			create_simple_m3u
		</span>
				()
			</div>
	
		
			
	</div>
<a name="methodcreate_xspf" id="create_xspf"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">create_xspf</span> (line <span class="line-number">430</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">create_xspf</p>
<p class="description"><p>creates an XSPF playlist (Thx PB1DFT)</p></p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			create_xspf
		</span>
				()
			</div>
	
		
			
	</div>
<a name="methodcreate_xspf_player" id="create_xspf_player"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">create_xspf_player</span> (line <span class="line-number">484</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">create_xspf_player</p>
<p class="description"><p>due to the fact that this is an integrated player (flash) we actually  have to do a little 'cheating' to make this work, we are going to take  advantage of tmp_playlists to do all of this hotness</p></p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			create_xspf_player
		</span>
				()
			</div>
	
		
			
	</div>
<a name="methodstart" id="start"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">start</span> (line <span class="line-number">86</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">start</p>
<p class="description"><p>runs this and depending on the type passed it will call the correct function</p></p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			start
		</span>
				()
			</div>
	
		
			
	</div>
						
		</div>
	</div>


	<p class="notes" id="credit">
		Documentation generated on Mon, 07 Feb 2011 13:05:44 +0900 by <a href="http://www.phpdoc.org" target="_blank">phpDocumentor 1.4.3</a>
	</p>
	</div></body>
</html>